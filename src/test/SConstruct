Import('use')

if use['PAINTOWN_BUILD_TESTS']:
    def run_it(target, source, env):
        print "Running %s" % target[0].path
        env.Execute(target[0].path)
    use['PAINTOWN_TEST'] = run_it
    all = []
    all.extend(SConscript('token/SConstruct', exports = ['use']))
    all.extend(SConscript('regex/SConstruct', exports = ['use']))
    all.extend(SConscript('mugen/SConstruct', exports = ['use']))
    all.extend(SConscript('menu/SConstruct', exports = ['use']))
    all.extend(SConscript('thread/SConstruct', exports = ['use']))
    all.extend(SConscript('paintown/SConstruct', exports = ['use']))

    Alias('test-all', all)
